{"ast":null,"code":"var _jsxFileName = \"C:\\\\react\\\\tools-eSign\\\\src\\\\App.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { fabric } from \"fabric\";\nimport * as pdfjsLib from \"pdfjs-dist/build/pdf\";\n\n// PDF.js worker\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\npdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.min.js`;\nexport default function App() {\n  _s();\n  const canvasRef = useRef(null);\n  const fabricRef = useRef(null);\n\n  // States\n  const [newText, setNewText] = useState(\"\");\n  const [imageSrc, setImageSrc] = useState(null);\n  const [fontSize, setFontSize] = useState(24);\n  const [fontFamily, setFontFamily] = useState(\"Arial\");\n  const [fontColor, setFontColor] = useState(\"#000000\");\n\n  // Drawing tool states\n  const [isDrawingMode, setIsDrawingMode] = useState(false);\n  const [brushColor, setBrushColor] = useState(\"#000000\");\n  const [brushWidth, setBrushWidth] = useState(5);\n  const [isEraserMode, setIsEraserMode] = useState(false);\n\n  // Undo / redo stack\n  const undoStack = useRef([]);\n  const redoStack = useRef([]);\n\n  // Initialize Fabric canvas with background\n  const initFabric = (bgUrl, width, height) => {\n    const canvasElement = canvasRef.current;\n    const fabricCanvas = new fabric.Canvas(canvasElement, {\n      width,\n      height,\n      backgroundColor: \"#ffffff\",\n      preserveObjectStacking: true,\n      selection: true,\n      isDrawingMode: false\n    });\n    fabric.Image.fromURL(bgUrl, img => {\n      img.set({\n        selectable: false\n      });\n      fabricCanvas.setBackgroundImage(img, fabricCanvas.renderAll.bind(fabricCanvas), {\n        scaleX: width / img.width,\n        scaleY: height / img.height\n      });\n    });\n    fabricRef.current = fabricCanvas;\n    fabricCanvas.on(\"selection:created\", updateControls);\n    fabricCanvas.on(\"selection:updated\", updateControls);\n    fabricCanvas.on(\"selection:cleared\", () => {\n      setFontSize(24);\n      setFontFamily(\"Arial\");\n      setFontColor(\"#000000\");\n    });\n\n    // Record initial state for undo stack\n    saveState();\n\n    // Listen for modifications to save undo state\n    fabricCanvas.on(\"object:added\", saveState);\n    fabricCanvas.on(\"object:modified\", saveState);\n    fabricCanvas.on(\"object:removed\", saveState);\n    fabricCanvas.on(\"path:created\", saveState);\n  };\n\n  // Save current canvas state to undo stack\n  const saveState = () => {\n    if (!fabricRef.current) return;\n    const json = fabricRef.current.toJSON();\n    undoStack.current.push(json);\n    // Clear redo stack on new action\n    redoStack.current = [];\n  };\n\n  // Undo action\n  const undo = () => {\n    if (undoStack.current.length > 1 && fabricRef.current) {\n      const current = undoStack.current.pop();\n      redoStack.current.push(current);\n      const last = undoStack.current[undoStack.current.length - 1];\n      fabricRef.current.loadFromJSON(last, () => {\n        fabricRef.current.renderAll();\n      });\n    }\n  };\n\n  // Redo action\n  const redo = () => {\n    if (redoStack.current.length > 0 && fabricRef.current) {\n      const redoState = redoStack.current.pop();\n      undoStack.current.push(redoState);\n      fabricRef.current.loadFromJSON(redoState, () => {\n        fabricRef.current.renderAll();\n      });\n    }\n  };\n\n  // Update controls for selected text object\n  const updateControls = () => {\n    const activeObject = fabricRef.current.getActiveObject();\n    if (activeObject && activeObject.type === \"i-text\") {\n      setFontSize(activeObject.fontSize || 24);\n      setFontFamily(activeObject.fontFamily || \"Arial\");\n      setFontColor(activeObject.fill || \"#000000\");\n    }\n  };\n\n  // Add new text box\n  const addText = () => {\n    if (!newText.trim() || !fabricRef.current) return;\n    const text = new fabric.IText(newText, {\n      left: 100,\n      top: 100,\n      fontSize,\n      fill: fontColor,\n      fontFamily,\n      editable: true\n    });\n    fabricRef.current.add(text).setActiveObject(text);\n    fabricRef.current.renderAll();\n    setNewText(\"\");\n    saveState();\n  };\n\n  // Update active text object's style\n  const updateActiveTextStyle = (property, value) => {\n    const activeObject = fabricRef.current.getActiveObject();\n    if (activeObject && activeObject.type === \"i-text\") {\n      activeObject.set(property, value);\n      fabricRef.current.renderAll();\n      if (property === \"fontSize\") setFontSize(value);\n      if (property === \"fontFamily\") setFontFamily(value);\n      if (property === \"fill\") setFontColor(value);\n      saveState();\n    }\n  };\n\n  // Toggle drawing mode or eraser\n  const toggleDrawingMode = (enable, eraser = false) => {\n    if (!fabricRef.current) return;\n    setIsDrawingMode(enable);\n    setIsEraserMode(eraser);\n    fabricRef.current.isDrawingMode = enable;\n    if (enable) {\n      if (eraser) {\n        // Eraser brush: draw with white color, composite operation = 'destination-out'\n        const eraserBrush = new fabric.PencilBrush(fabricRef.current);\n        eraserBrush.color = \"rgba(0,0,0,1)\";\n        eraserBrush.width = brushWidth;\n        eraserBrush.globalCompositeOperation = \"destination-out\"; // eraser effect\n        fabricRef.current.freeDrawingBrush = eraserBrush;\n      } else {\n        const brush = new fabric.PencilBrush(fabricRef.current);\n        brush.color = brushColor;\n        brush.width = brushWidth;\n        brush.globalCompositeOperation = \"source-over\";\n        fabricRef.current.freeDrawingBrush = brush;\n      }\n    }\n  };\n\n  // Delete selected object(s)\n  const deleteSelected = () => {\n    const canvas = fabricRef.current;\n    if (!canvas) return;\n    const activeObjects = canvas.getActiveObjects();\n    if (activeObjects.length) {\n      activeObjects.forEach(obj => canvas.remove(obj));\n      canvas.discardActiveObject();\n      canvas.requestRenderAll();\n      saveState();\n    }\n  };\n\n  // Bring forward / send backward\n  const bringForward = () => {\n    const canvas = fabricRef.current;\n    const activeObject = canvas.getActiveObject();\n    if (activeObject) {\n      canvas.bringForward(activeObject);\n      canvas.requestRenderAll();\n      saveState();\n    }\n  };\n  const sendBackward = () => {\n    const canvas = fabricRef.current;\n    const activeObject = canvas.getActiveObject();\n    if (activeObject) {\n      canvas.sendBackwards(activeObject);\n      canvas.requestRenderAll();\n      saveState();\n    }\n  };\n\n  // Clear canvas (except background)\n  const clearCanvas = () => {\n    const canvas = fabricRef.current;\n    if (!canvas) return;\n    canvas.getObjects().forEach(obj => {\n      if (obj !== canvas.backgroundImage) {\n        canvas.remove(obj);\n      }\n    });\n    canvas.discardActiveObject();\n    canvas.requestRenderAll();\n    saveState();\n  };\n\n  // Select all objects except background\n  const selectAll = () => {\n    const canvas = fabricRef.current;\n    if (!canvas) return;\n    const objs = canvas.getObjects().filter(obj => obj !== canvas.backgroundImage);\n    if (objs.length > 0) {\n      const sel = new fabric.ActiveSelection(objs, {\n        canvas\n      });\n      canvas.setActiveObject(sel);\n      canvas.requestRenderAll();\n    }\n  };\n\n  // Export canvas as PNG\n  const exportAsImage = () => {\n    if (!fabricRef.current) return;\n    const dataURL = fabricRef.current.toDataURL({\n      format: \"png\",\n      quality: 1,\n      multiplier: 2\n    });\n    const link = document.createElement(\"a\");\n    link.href = dataURL;\n    link.download = \"certificate.png\";\n    link.click();\n  };\n\n  // Handle file upload (PDF or image)\n  const handleFileChange = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    if (fabricRef.current) {\n      fabricRef.current.dispose();\n      fabricRef.current = null;\n    }\n    if (file.type === \"application/pdf\") {\n      const arrayBuffer = await file.arrayBuffer();\n      const pdf = await pdfjsLib.getDocument({\n        data: arrayBuffer\n      }).promise;\n      const page = await pdf.getPage(1);\n      const viewport = page.getViewport({\n        scale: 2\n      });\n      const tempCanvas = document.createElement(\"canvas\");\n      const context = tempCanvas.getContext(\"2d\");\n      tempCanvas.width = viewport.width;\n      tempCanvas.height = viewport.height;\n      await page.render({\n        canvasContext: context,\n        viewport\n      }).promise;\n      const dataUrl = tempCanvas.toDataURL(\"image/png\");\n      setImageSrc(dataUrl);\n      initFabric(dataUrl, tempCanvas.width, tempCanvas.height);\n    } else if (file.type.startsWith(\"image/\")) {\n      const url = URL.createObjectURL(file);\n      const img = new Image();\n      img.onload = () => {\n        setImageSrc(url);\n        initFabric(url, img.width, img.height);\n      };\n      img.src = url;\n    } else {\n      alert(\"Unsupported file type.\");\n    }\n  };\n\n  // Cleanup\n  useEffect(() => {\n    return () => {\n      if (fabricRef.current) {\n        fabricRef.current.dispose();\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6\",\n      children: \"Certificate Designer with Fabric.js\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \"application/pdf,image/*\",\n        onChange: handleFileChange,\n        className: \"mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mb-4 flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter text\",\n          value: newText,\n          onChange: e => setNewText(e.target.value),\n          className: \"border px-2 py-1 rounded flex-grow\",\n          disabled: isDrawingMode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addText,\n          className: \"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700\",\n          disabled: isDrawingMode,\n          children: \"Add Text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4 mb-4 flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Font Size:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: 8,\n            max: 100,\n            value: fontSize,\n            onChange: e => updateActiveTextStyle(\"fontSize\", parseInt(e.target.value, 10)),\n            className: \"border px-2 py-1 rounded w-20\",\n            disabled: isDrawingMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Font Family:\", \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: fontFamily,\n            onChange: e => updateActiveTextStyle(\"fontFamily\", e.target.value),\n            className: \"border px-2 py-1 rounded\",\n            disabled: isDrawingMode,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Arial\",\n              children: \"Arial\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Times New Roman\",\n              children: \"Times New Roman\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Courier New\",\n              children: \"Courier New\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Georgia\",\n              children: \"Georgia\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Verdana\",\n              children: \"Verdana\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Font Color:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"color\",\n            value: fontColor,\n            onChange: e => updateActiveTextStyle(\"fill\", e.target.value),\n            className: \"w-10 h-10 p-0 border rounded\",\n            title: \"Select font color\",\n            disabled: isDrawingMode\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 mb-4 flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toggleDrawingMode(!isDrawingMode, false),\n          className: `px-4 py-1 rounded ${isDrawingMode && !isEraserMode ? \"bg-green-700 text-white\" : \"bg-green-600 text-white hover:bg-green-700\"}`,\n          title: \"Toggle drawing mode\",\n          children: isDrawingMode && !isEraserMode ? \"Disable Drawing\" : \"Enable Drawing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => toggleDrawingMode(!isDrawingMode, true),\n          className: `px-4 py-1 rounded ${isDrawingMode && isEraserMode ? \"bg-red-700 text-white\" : \"bg-red-600 text-white hover:bg-red-700\"}`,\n          title: \"Toggle eraser mode\",\n          children: isDrawingMode && isEraserMode ? \"Disable Eraser\" : \"Enable Eraser\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Brush Color:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"color\",\n            value: brushColor,\n            onChange: e => setBrushColor(e.target.value),\n            disabled: isDrawingMode && isEraserMode,\n            className: \"w-10 h-10 p-0 border rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Brush Width:\", \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            min: 1,\n            max: 50,\n            value: brushWidth,\n            onChange: e => setBrushWidth(parseInt(e.target.value, 10)),\n            className: \"border px-2 py-1 rounded w-20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2 mb-6 flex-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: undo,\n          className: \"bg-yellow-500 text-black px-4 py-1 rounded hover:bg-yellow-600\",\n          children: \"Undo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: redo,\n          className: \"bg-yellow-400 text-black px-4 py-1 rounded hover:bg-yellow-500\",\n          children: \"Redo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: deleteSelected,\n          className: \"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700\",\n          children: \"Delete Selected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearCanvas,\n          className: \"bg-gray-600 text-white px-4 py-1 rounded hover:bg-gray-700\",\n          children: \"Clear Canvas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: selectAll,\n          className: \"bg-purple-600 text-white px-4 py-1 rounded hover:bg-purple-700\",\n          children: \"Select All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: exportAsImage,\n        className: \"bg-blue-700 text-white px-6 py-2 rounded hover:bg-blue-800\",\n        children: \"Export as PNG\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      className: \"border border-gray-400 mx-auto\",\n      style: {\n        maxWidth: \"100%\",\n        height: \"auto\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 304,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"NK8atjt8LHwFlNqAsonKMYbAcHY=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","fabric","pdfjsLib","jsxDEV","_jsxDEV","GlobalWorkerOptions","workerSrc","version","App","_s","canvasRef","fabricRef","newText","setNewText","imageSrc","setImageSrc","fontSize","setFontSize","fontFamily","setFontFamily","fontColor","setFontColor","isDrawingMode","setIsDrawingMode","brushColor","setBrushColor","brushWidth","setBrushWidth","isEraserMode","setIsEraserMode","undoStack","redoStack","initFabric","bgUrl","width","height","canvasElement","current","fabricCanvas","Canvas","backgroundColor","preserveObjectStacking","selection","Image","fromURL","img","set","selectable","setBackgroundImage","renderAll","bind","scaleX","scaleY","on","updateControls","saveState","json","toJSON","push","undo","length","pop","last","loadFromJSON","redo","redoState","activeObject","getActiveObject","type","fill","addText","trim","text","IText","left","top","editable","add","setActiveObject","updateActiveTextStyle","property","value","toggleDrawingMode","enable","eraser","eraserBrush","PencilBrush","color","globalCompositeOperation","freeDrawingBrush","brush","deleteSelected","canvas","activeObjects","getActiveObjects","forEach","obj","remove","discardActiveObject","requestRenderAll","bringForward","sendBackward","sendBackwards","clearCanvas","getObjects","backgroundImage","selectAll","objs","filter","sel","ActiveSelection","exportAsImage","dataURL","toDataURL","format","quality","multiplier","link","document","createElement","href","download","click","handleFileChange","e","file","target","files","dispose","arrayBuffer","pdf","getDocument","data","promise","page","getPage","viewport","getViewport","scale","tempCanvas","context","getContext","render","canvasContext","dataUrl","startsWith","url","URL","createObjectURL","onload","src","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","accept","onChange","placeholder","disabled","onClick","min","max","parseInt","title","ref","style","maxWidth","_c","$RefreshReg$"],"sources":["C:/react/tools-eSign/src/App.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { fabric } from \"fabric\";\r\nimport * as pdfjsLib from \"pdfjs-dist/build/pdf\";\r\n\r\n// PDF.js worker\r\npdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjsLib.version}/pdf.worker.min.js`;\r\n\r\nexport default function App() {\r\n  const canvasRef = useRef(null);\r\n  const fabricRef = useRef(null);\r\n\r\n  // States\r\n  const [newText, setNewText] = useState(\"\");\r\n  const [imageSrc, setImageSrc] = useState(null);\r\n  const [fontSize, setFontSize] = useState(24);\r\n  const [fontFamily, setFontFamily] = useState(\"Arial\");\r\n  const [fontColor, setFontColor] = useState(\"#000000\");\r\n\r\n  // Drawing tool states\r\n  const [isDrawingMode, setIsDrawingMode] = useState(false);\r\n  const [brushColor, setBrushColor] = useState(\"#000000\");\r\n  const [brushWidth, setBrushWidth] = useState(5);\r\n  const [isEraserMode, setIsEraserMode] = useState(false);\r\n\r\n  // Undo / redo stack\r\n  const undoStack = useRef([]);\r\n  const redoStack = useRef([]);\r\n\r\n  // Initialize Fabric canvas with background\r\n  const initFabric = (bgUrl, width, height) => {\r\n    const canvasElement = canvasRef.current;\r\n    const fabricCanvas = new fabric.Canvas(canvasElement, {\r\n      width,\r\n      height,\r\n      backgroundColor: \"#ffffff\",\r\n      preserveObjectStacking: true,\r\n      selection: true,\r\n      isDrawingMode: false,\r\n    });\r\n\r\n    fabric.Image.fromURL(bgUrl, (img) => {\r\n      img.set({ selectable: false });\r\n      fabricCanvas.setBackgroundImage(\r\n        img,\r\n        fabricCanvas.renderAll.bind(fabricCanvas),\r\n        {\r\n          scaleX: width / img.width,\r\n          scaleY: height / img.height,\r\n        }\r\n      );\r\n    });\r\n\r\n    fabricRef.current = fabricCanvas;\r\n\r\n    fabricCanvas.on(\"selection:created\", updateControls);\r\n    fabricCanvas.on(\"selection:updated\", updateControls);\r\n    fabricCanvas.on(\"selection:cleared\", () => {\r\n      setFontSize(24);\r\n      setFontFamily(\"Arial\");\r\n      setFontColor(\"#000000\");\r\n    });\r\n\r\n    // Record initial state for undo stack\r\n    saveState();\r\n\r\n    // Listen for modifications to save undo state\r\n    fabricCanvas.on(\"object:added\", saveState);\r\n    fabricCanvas.on(\"object:modified\", saveState);\r\n    fabricCanvas.on(\"object:removed\", saveState);\r\n    fabricCanvas.on(\"path:created\", saveState);\r\n  };\r\n\r\n  // Save current canvas state to undo stack\r\n  const saveState = () => {\r\n    if (!fabricRef.current) return;\r\n    const json = fabricRef.current.toJSON();\r\n    undoStack.current.push(json);\r\n    // Clear redo stack on new action\r\n    redoStack.current = [];\r\n  };\r\n\r\n  // Undo action\r\n  const undo = () => {\r\n    if (undoStack.current.length > 1 && fabricRef.current) {\r\n      const current = undoStack.current.pop();\r\n      redoStack.current.push(current);\r\n      const last = undoStack.current[undoStack.current.length - 1];\r\n      fabricRef.current.loadFromJSON(last, () => {\r\n        fabricRef.current.renderAll();\r\n      });\r\n    }\r\n  };\r\n\r\n  // Redo action\r\n  const redo = () => {\r\n    if (redoStack.current.length > 0 && fabricRef.current) {\r\n      const redoState = redoStack.current.pop();\r\n      undoStack.current.push(redoState);\r\n      fabricRef.current.loadFromJSON(redoState, () => {\r\n        fabricRef.current.renderAll();\r\n      });\r\n    }\r\n  };\r\n\r\n  // Update controls for selected text object\r\n  const updateControls = () => {\r\n    const activeObject = fabricRef.current.getActiveObject();\r\n    if (activeObject && activeObject.type === \"i-text\") {\r\n      setFontSize(activeObject.fontSize || 24);\r\n      setFontFamily(activeObject.fontFamily || \"Arial\");\r\n      setFontColor(activeObject.fill || \"#000000\");\r\n    }\r\n  };\r\n\r\n  // Add new text box\r\n  const addText = () => {\r\n    if (!newText.trim() || !fabricRef.current) return;\r\n\r\n    const text = new fabric.IText(newText, {\r\n      left: 100,\r\n      top: 100,\r\n      fontSize,\r\n      fill: fontColor,\r\n      fontFamily,\r\n      editable: true,\r\n    });\r\n\r\n    fabricRef.current.add(text).setActiveObject(text);\r\n    fabricRef.current.renderAll();\r\n    setNewText(\"\");\r\n    saveState();\r\n  };\r\n\r\n  // Update active text object's style\r\n  const updateActiveTextStyle = (property, value) => {\r\n    const activeObject = fabricRef.current.getActiveObject();\r\n    if (activeObject && activeObject.type === \"i-text\") {\r\n      activeObject.set(property, value);\r\n      fabricRef.current.renderAll();\r\n\r\n      if (property === \"fontSize\") setFontSize(value);\r\n      if (property === \"fontFamily\") setFontFamily(value);\r\n      if (property === \"fill\") setFontColor(value);\r\n\r\n      saveState();\r\n    }\r\n  };\r\n\r\n  // Toggle drawing mode or eraser\r\n  const toggleDrawingMode = (enable, eraser = false) => {\r\n    if (!fabricRef.current) return;\r\n    setIsDrawingMode(enable);\r\n    setIsEraserMode(eraser);\r\n\r\n    fabricRef.current.isDrawingMode = enable;\r\n\r\n    if (enable) {\r\n      if (eraser) {\r\n        // Eraser brush: draw with white color, composite operation = 'destination-out'\r\n        const eraserBrush = new fabric.PencilBrush(fabricRef.current);\r\n        eraserBrush.color = \"rgba(0,0,0,1)\";\r\n        eraserBrush.width = brushWidth;\r\n        eraserBrush.globalCompositeOperation = \"destination-out\"; // eraser effect\r\n        fabricRef.current.freeDrawingBrush = eraserBrush;\r\n      } else {\r\n        const brush = new fabric.PencilBrush(fabricRef.current);\r\n        brush.color = brushColor;\r\n        brush.width = brushWidth;\r\n        brush.globalCompositeOperation = \"source-over\";\r\n        fabricRef.current.freeDrawingBrush = brush;\r\n      }\r\n    }\r\n  };\r\n\r\n  // Delete selected object(s)\r\n  const deleteSelected = () => {\r\n    const canvas = fabricRef.current;\r\n    if (!canvas) return;\r\n\r\n    const activeObjects = canvas.getActiveObjects();\r\n    if (activeObjects.length) {\r\n      activeObjects.forEach((obj) => canvas.remove(obj));\r\n      canvas.discardActiveObject();\r\n      canvas.requestRenderAll();\r\n      saveState();\r\n    }\r\n  };\r\n\r\n  // Bring forward / send backward\r\n  const bringForward = () => {\r\n    const canvas = fabricRef.current;\r\n    const activeObject = canvas.getActiveObject();\r\n    if (activeObject) {\r\n      canvas.bringForward(activeObject);\r\n      canvas.requestRenderAll();\r\n      saveState();\r\n    }\r\n  };\r\n  const sendBackward = () => {\r\n    const canvas = fabricRef.current;\r\n    const activeObject = canvas.getActiveObject();\r\n    if (activeObject) {\r\n      canvas.sendBackwards(activeObject);\r\n      canvas.requestRenderAll();\r\n      saveState();\r\n    }\r\n  };\r\n\r\n  // Clear canvas (except background)\r\n  const clearCanvas = () => {\r\n    const canvas = fabricRef.current;\r\n    if (!canvas) return;\r\n\r\n    canvas.getObjects().forEach((obj) => {\r\n      if (obj !== canvas.backgroundImage) {\r\n        canvas.remove(obj);\r\n      }\r\n    });\r\n    canvas.discardActiveObject();\r\n    canvas.requestRenderAll();\r\n    saveState();\r\n  };\r\n\r\n  // Select all objects except background\r\n  const selectAll = () => {\r\n    const canvas = fabricRef.current;\r\n    if (!canvas) return;\r\n    const objs = canvas\r\n      .getObjects()\r\n      .filter((obj) => obj !== canvas.backgroundImage);\r\n    if (objs.length > 0) {\r\n      const sel = new fabric.ActiveSelection(objs, {\r\n        canvas,\r\n      });\r\n      canvas.setActiveObject(sel);\r\n      canvas.requestRenderAll();\r\n    }\r\n  };\r\n\r\n  // Export canvas as PNG\r\n  const exportAsImage = () => {\r\n    if (!fabricRef.current) return;\r\n    const dataURL = fabricRef.current.toDataURL({\r\n      format: \"png\",\r\n      quality: 1,\r\n      multiplier: 2,\r\n    });\r\n\r\n    const link = document.createElement(\"a\");\r\n    link.href = dataURL;\r\n    link.download = \"certificate.png\";\r\n    link.click();\r\n  };\r\n\r\n  // Handle file upload (PDF or image)\r\n  const handleFileChange = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (fabricRef.current) {\r\n      fabricRef.current.dispose();\r\n      fabricRef.current = null;\r\n    }\r\n\r\n    if (file.type === \"application/pdf\") {\r\n      const arrayBuffer = await file.arrayBuffer();\r\n      const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;\r\n      const page = await pdf.getPage(1);\r\n      const viewport = page.getViewport({ scale: 2 });\r\n\r\n      const tempCanvas = document.createElement(\"canvas\");\r\n      const context = tempCanvas.getContext(\"2d\");\r\n      tempCanvas.width = viewport.width;\r\n      tempCanvas.height = viewport.height;\r\n\r\n      await page.render({ canvasContext: context, viewport }).promise;\r\n\r\n      const dataUrl = tempCanvas.toDataURL(\"image/png\");\r\n      setImageSrc(dataUrl);\r\n      initFabric(dataUrl, tempCanvas.width, tempCanvas.height);\r\n    } else if (file.type.startsWith(\"image/\")) {\r\n      const url = URL.createObjectURL(file);\r\n      const img = new Image();\r\n      img.onload = () => {\r\n        setImageSrc(url);\r\n        initFabric(url, img.width, img.height);\r\n      };\r\n      img.src = url;\r\n    } else {\r\n      alert(\"Unsupported file type.\");\r\n    }\r\n  };\r\n\r\n  // Cleanup\r\n  useEffect(() => {\r\n    return () => {\r\n      if (fabricRef.current) {\r\n        fabricRef.current.dispose();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-6\">\r\n      <h1 className=\"text-3xl font-bold mb-6\">\r\n        Certificate Designer with Fabric.js\r\n      </h1>\r\n\r\n      <div className=\"mb-4\">\r\n        <input\r\n          type=\"file\"\r\n          accept=\"application/pdf,image/*\"\r\n          onChange={handleFileChange}\r\n          className=\"mb-2\"\r\n        />\r\n\r\n        <div className=\"flex gap-2 mb-4 flex-wrap\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter text\"\r\n            value={newText}\r\n            onChange={(e) => setNewText(e.target.value)}\r\n            className=\"border px-2 py-1 rounded flex-grow\"\r\n            disabled={isDrawingMode}\r\n          />\r\n          <button\r\n            onClick={addText}\r\n            className=\"bg-blue-600 text-white px-4 py-1 rounded hover:bg-blue-700\"\r\n            disabled={isDrawingMode}\r\n          >\r\n            Add Text\r\n          </button>\r\n        </div>\r\n\r\n        {/* Text styling controls */}\r\n        <div className=\"flex items-center gap-4 mb-4 flex-wrap\">\r\n          <label>\r\n            Font Size:{\" \"}\r\n            <input\r\n              type=\"number\"\r\n              min={8}\r\n              max={100}\r\n              value={fontSize}\r\n              onChange={(e) =>\r\n                updateActiveTextStyle(\"fontSize\", parseInt(e.target.value, 10))\r\n              }\r\n              className=\"border px-2 py-1 rounded w-20\"\r\n              disabled={isDrawingMode}\r\n            />\r\n          </label>\r\n\r\n          <label>\r\n            Font Family:{\" \"}\r\n            <select\r\n              value={fontFamily}\r\n              onChange={(e) =>\r\n                updateActiveTextStyle(\"fontFamily\", e.target.value)\r\n              }\r\n              className=\"border px-2 py-1 rounded\"\r\n              disabled={isDrawingMode}\r\n            >\r\n              <option value=\"Arial\">Arial</option>\r\n              <option value=\"Times New Roman\">Times New Roman</option>\r\n              <option value=\"Courier New\">Courier New</option>\r\n              <option value=\"Georgia\">Georgia</option>\r\n              <option value=\"Verdana\">Verdana</option>\r\n            </select>\r\n          </label>\r\n\r\n          <label>\r\n            Font Color:{\" \"}\r\n            <input\r\n              type=\"color\"\r\n              value={fontColor}\r\n              onChange={(e) => updateActiveTextStyle(\"fill\", e.target.value)}\r\n              className=\"w-10 h-10 p-0 border rounded\"\r\n              title=\"Select font color\"\r\n              disabled={isDrawingMode}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        {/* Drawing controls */}\r\n        <div className=\"flex items-center gap-2 mb-4 flex-wrap\">\r\n          <button\r\n            onClick={() => toggleDrawingMode(!isDrawingMode, false)}\r\n            className={`px-4 py-1 rounded ${\r\n              isDrawingMode && !isEraserMode\r\n                ? \"bg-green-700 text-white\"\r\n                : \"bg-green-600 text-white hover:bg-green-700\"\r\n            }`}\r\n            title=\"Toggle drawing mode\"\r\n          >\r\n            {isDrawingMode && !isEraserMode\r\n              ? \"Disable Drawing\"\r\n              : \"Enable Drawing\"}\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => toggleDrawingMode(!isDrawingMode, true)}\r\n            className={`px-4 py-1 rounded ${\r\n              isDrawingMode && isEraserMode\r\n                ? \"bg-red-700 text-white\"\r\n                : \"bg-red-600 text-white hover:bg-red-700\"\r\n            }`}\r\n            title=\"Toggle eraser mode\"\r\n          >\r\n            {isDrawingMode && isEraserMode ? \"Disable Eraser\" : \"Enable Eraser\"}\r\n          </button>\r\n\r\n          <label>\r\n            Brush Color:{\" \"}\r\n            <input\r\n              type=\"color\"\r\n              value={brushColor}\r\n              onChange={(e) => setBrushColor(e.target.value)}\r\n              disabled={isDrawingMode && isEraserMode}\r\n              className=\"w-10 h-10 p-0 border rounded\"\r\n            />\r\n          </label>\r\n\r\n          <label>\r\n            Brush Width:{\" \"}\r\n            <input\r\n              type=\"number\"\r\n              min={1}\r\n              max={50}\r\n              value={brushWidth}\r\n              onChange={(e) => setBrushWidth(parseInt(e.target.value, 10))}\r\n              className=\"border px-2 py-1 rounded w-20\"\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        {/* Undo / redo / clear / delete */}\r\n        <div className=\"flex gap-2 mb-6 flex-wrap\">\r\n          <button\r\n            onClick={undo}\r\n            className=\"bg-yellow-500 text-black px-4 py-1 rounded hover:bg-yellow-600\"\r\n          >\r\n            Undo\r\n          </button>\r\n          <button\r\n            onClick={redo}\r\n            className=\"bg-yellow-400 text-black px-4 py-1 rounded hover:bg-yellow-500\"\r\n          >\r\n            Redo\r\n          </button>\r\n          <button\r\n            onClick={deleteSelected}\r\n            className=\"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700\"\r\n          >\r\n            Delete Selected\r\n          </button>\r\n          <button\r\n            onClick={clearCanvas}\r\n            className=\"bg-gray-600 text-white px-4 py-1 rounded hover:bg-gray-700\"\r\n          >\r\n            Clear Canvas\r\n          </button>\r\n          <button\r\n            onClick={selectAll}\r\n            className=\"bg-purple-600 text-white px-4 py-1 rounded hover:bg-purple-700\"\r\n          >\r\n            Select All\r\n          </button>\r\n        </div>\r\n\r\n        {/* Export */}\r\n        <button\r\n          onClick={exportAsImage}\r\n          className=\"bg-blue-700 text-white px-6 py-2 rounded hover:bg-blue-800\"\r\n        >\r\n          Export as PNG\r\n        </button>\r\n      </div>\r\n\r\n      {/* Canvas */}\r\n      <canvas\r\n        ref={canvasRef}\r\n        className=\"border border-gray-400 mx-auto\"\r\n        style={{ maxWidth: \"100%\", height: \"auto\" }}\r\n      ></canvas>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}